<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:随机抽取学号.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    x:Class="随机抽取学号.Views.ClassPage"
    mc:Ignorable="d"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    NavigationCacheMode="Disabled">
    <Page.Resources>
        <Style x:Key="GridViewStyle" TargetType="GridView">
            <Setter Property="Padding" Value="0,0,0,0"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="TabNavigation" Value="Once"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.IsHorizontalRailEnabled" Value="False"/>
            <Setter Property="ScrollViewer.VerticalScrollMode" Value="Enabled"/>
            <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="True"/>
            <Setter Property="ScrollViewer.ZoomMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
            <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
            <Setter Property="IsSwipeEnabled" Value="True"/>
            <Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}"/>
            <Setter Property="FocusVisualMargin" Value="-2"/>
            <Setter Property="ItemContainerTransitions">
                <Setter.Value>
                    <TransitionCollection>
                        <AddDeleteThemeTransition/>
                        <ContentThemeTransition/>
                        <ReorderThemeTransition/>
                        <EntranceThemeTransition IsStaggeringEnabled="True" FromVerticalOffset="150"/>
                    </TransitionCollection>
                </Setter.Value>
            </Setter>
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <ItemsWrapGrid Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GridView">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="{TemplateBinding CornerRadius}">
                            <ScrollViewer x:Name="ScrollViewer" AutomationProperties.AccessibilityView="Raw" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsHorizontalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsHorizontalScrollChainingEnabled}" IsVerticalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsVerticalScrollChainingEnabled}" TabNavigation="{TemplateBinding TabNavigation}" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" ZoomMode="{TemplateBinding ScrollViewer.ZoomMode}">
                                <ItemsPresenter Footer="{TemplateBinding Footer}" FooterTemplate="{TemplateBinding FooterTemplate}" FooterTransitions="{TemplateBinding FooterTransitions}" HeaderTemplate="{TemplateBinding HeaderTemplate}" HeaderTransitions="{TemplateBinding HeaderTransitions}" Header="{TemplateBinding Header}" Padding="{TemplateBinding Padding}"/>
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <DataTemplate x:Key="GridViewItemTemplate" x:DataType="local:ImageTextItem">
            <StackPanel Width="225" Height="Auto" Orientation="Vertical">
                <StackPanel.ChildrenTransitions>
                    <EntranceThemeTransition IsStaggeringEnabled="True" FromVerticalOffset="200"></EntranceThemeTransition>
                </StackPanel.ChildrenTransitions>
                <Image Stretch="UniformToFill" Source="{x:Bind Photos}" Width="225" Height="300"/>
                <TextBlock Text="{x:Bind Names}" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="{StaticResource HarmonyOSSans}" FontSize="16"/>
            </StackPanel>
        </DataTemplate>
    </Page.Resources>

    <Grid Background="{ThemeResource GridBackground}">
        <Grid MinWidth="400"
          MinHeight="300">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition  Width="*"/>
            </Grid.ColumnDefinitions>

            <ScrollViewer VerticalScrollMode="Enabled" VerticalScrollBarVisibility="Auto">
                <Grid x:Name="NamesGrid"   CornerRadius="0,0,0,0"  MinWidth="100" MaxWidth="300">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border x:Name="lineNumberBorder" CornerRadius="8,0,0,8" Grid.Column="0">
                        <TextBlock x:Name="lineNumberTextBlock" Foreground="{ThemeResource LineNumberForeground}"
                   Margin="0,5"
                   VerticalAlignment="Top"
                   FontSize="16"
                   FontFamily="{StaticResource HarmonyOSSans}"
                   TextAlignment="Right"
                   IsTextSelectionEnabled="False" />
                    </Border>

                    <TextBox x:Name="Editor"
                    FontFamily="{StaticResource HarmonyOSSans}"
                    FontSize="16"
                     Grid.Column="1"
                     AcceptsReturn="True"
                     x:FieldModifier="public" TextChanged="Editor_TextChanged" Loaded="Editor_Loaded" CornerRadius="0,0,0,0" />

                </Grid>
            </ScrollViewer>
            <controls:ContentSizer Grid.Column="1"
                               Cursor="Hand"
                               TargetControl="{x:Bind NamesGrid}" />
            <TextBlock Grid.Column="1" HorizontalAlignment="Left" Height="29" Margin="10,4,0,0" TextWrapping="Wrap" Text="班级名称：" VerticalAlignment="Top" Width="70" FontFamily="{StaticResource HarmonyOSSans}" Grid.ColumnSpan="2"/>
            <TextBox x:Name="ClassNameTextBox" Grid.Column="2" HorizontalAlignment="Left" Height="30" Margin="75,0,0,0" TextWrapping="Wrap" Text="我的班级" VerticalAlignment="Top" Width="164" TextChanged="ClassNameTextBox_TextChanged" FontFamily="{StaticResource HarmonyOSSans}"/>
            <Button x:Name="FolderPickerButton"  Grid.Column="2" Content="Button" Height="34" Margin="417,38,0,0" VerticalAlignment="Top" Width="83" Click="FolderPickerButton_Click"/>
            <TextBlock x:Name="PhotosLocationTextBlock" TextWrapping="Wrap" Text="TextBox" Margin="150,40,0,0" Width="200" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" Grid.Column="2"/>
            <!--<GridView x:Name="PhotosGridView" Grid.Column="2"  Style="{StaticResource GridViewStyle}"  Margin="0,80,0,0" ItemTemplate="{StaticResource GridViewItemTemplate}" CanReorderItems="True">
                <GridView.ItemContainerTransitions>
                    <TransitionCollection>
                        <AddDeleteThemeTransition/>
                        <ContentThemeTransition/>
                        <ReorderThemeTransition/>
                        <EntranceThemeTransition IsStaggeringEnabled="True" FromVerticalOffset="300"/>
                    </TransitionCollection>
                </GridView.ItemContainerTransitions>
            </GridView>-->
            <Grid x:Name="PhotosGrid" Grid.Column="2" Margin="0,80,0,0">
                
            </Grid>
        </Grid>

        <AppBarButton x:Name="OpenFileButton" Height="59" Label="打开文件" Width="80" Icon="OpenLocal" Click="OpenFileButton_Click" Margin="99,19,0,0" FontFamily="{StaticResource HarmonyOSSans}"/>
        <AppBarButton x:Name="SaveFileButton" Height="59" Label="保存文件" Width="80" Icon="Save" Margin="179,26,0,0" Click="SaveFileButton_Click" FontFamily="{StaticResource HarmonyOSSans}"/>



    </Grid>
</Page>
